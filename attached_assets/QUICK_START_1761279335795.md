# 🚀 Inicio Rápido - WhatsApp-GHL Platform

## ✅ El Proyecto React Está COMPLETO

He recreado completamente el proyecto WhatsApp-GHL en React. Todo está listo para usar.

## 📋 Lo que Necesitas para Empezar

### 1. Backend API (REQUERIDO)

Esta aplicación React es solo el **FRONTEND**. Necesitas un servidor backend corriendo.

#### Opción A: Usar el servidor original (Recomendado)

```bash
# En una terminal, ve al proyecto original
cd ~/Desktop/"WHATSAPP QR copia:9:10"/whatsapp100-percent/

# Instala dependencias si no lo has hecho
npm install

# Inicia el servidor en puerto 3001
PORT=3001 node server-simple.js
```

#### Opción B: Crear tu propio backend

Necesitas implementar estos endpoints:
- `POST /api/register` - Registrar cliente
- `GET /api/instances/:locationId` - Obtener instancias
- `POST /api/instances/:locationId/:number/qr` - Generar QR
- `POST /api/instances/:locationId/add` - Agregar instancia
- `PUT /api/instances/:locationId/:number/name` - Actualizar nombre
- `POST /api/instances/:locationId/:number/phone` - Obtener teléfono
- `POST /api/instances/:locationId/:number/logout` - Desconectar

### 2. Iniciar la Aplicación React

```bash
# En otra terminal, ve al proyecto React
cd /Users/rayalvarado/whatssapp

# Inicia el servidor de desarrollo
npm start
```

La aplicación se abrirá automáticamente en [http://localhost:3000](http://localhost:3000)

## 🎮 Cómo Usar la Aplicación

### Paso 1: Página de Inicio
- Abre http://localhost:3000
- Verás un campo con "TEST_CLIENT_001" pre-cargado
- Puedes cambiar el Location ID o usar el de prueba
- Click en "🚀 Acceder al Dashboard"

### Paso 2: Dashboard
- Si es la primera vez, el sistema registrará automáticamente el cliente
- Verás 1 instancia de WhatsApp inicial
- Puedes agregar más con el botón "➕ Agregar Nuevo Número"

### Paso 3: Conectar WhatsApp
1. Click en "🔗 Generar QR" en cualquier tarjeta
2. Aparecerá un código QR
3. Abre WhatsApp en tu teléfono
4. Ve a Ajustes > Dispositivos vinculados
5. Escanea el código QR
6. La app detectará automáticamente la conexión
7. Verás el número de teléfono conectado

### Paso 4: Gestionar Instancias
- **Renombrar**: Escribe un nombre en el campo (ej: "Juan Ventas")
- **Desconectar**: Click en "🔌 Desconectar" cuando esté conectado
- **Auto-refresh**: El dashboard se actualiza cada 30 segundos

## 📁 Estructura del Proyecto

```
whatssapp/
├── src/
│   ├── components/
│   │   ├── HomePage.js          # Página de inicio
│   │   ├── Dashboard.js         # Dashboard principal
│   │   └── InstanceCard.js      # Tarjeta de WhatsApp
│   ├── services/
│   │   └── api.js               # Servicio API
│   └── App.js                   # Router principal
├── .env                         # Configuración
└── package.json                 # Dependencias
```

## ⚙️ Configuración

### Variables de Entorno (.env)

```env
REACT_APP_API_URL=http://localhost:3001
REACT_APP_EVOLUTION_API_URL=https://evolutionv2.cloude.es
```

**Importante**: Si tu backend corre en otro puerto, cambia `REACT_APP_API_URL`

## 🧪 Testing

### Verificar que todo funciona:

1. **Backend corriendo**:
   ```bash
   curl http://localhost:3001/health
   ```
   Debería responder con JSON

2. **Frontend corriendo**:
   Abre http://localhost:3000 - Debería ver la página de inicio

3. **Probar conexión completa**:
   - Accede al dashboard
   - Si ves las tarjetas de WhatsApp, ¡todo funciona!

## 🐛 Solución de Problemas

### Error: "Network Error" o "Cannot reach API"
- ✅ Verifica que el backend esté corriendo en puerto 3001
- ✅ Revisa el archivo `.env` que tenga la URL correcta
- ✅ Prueba: `curl http://localhost:3001/health`

### Error: "Failed to fetch instances"
- ✅ El backend necesita estar conectado a Evolution API
- ✅ Verifica las variables de entorno del backend
- ✅ Revisa los logs del servidor backend

### El QR code no aparece
- ✅ Verifica que Evolution API esté accesible
- ✅ Revisa la configuración del backend (EVOLUTION_API_URL)
- ✅ Mira los logs del navegador (F12 > Console)

### No detecta el número de teléfono
- ✅ Espera 30-60 segundos después de escanear el QR
- ✅ La app hace polling cada 3 segundos por 2 minutos
- ✅ Verifica que el webhook esté configurado en Evolution API

## 📦 Build para Producción

```bash
# Crear build optimizado
npm run build

# Los archivos estarán en ./build
# Puedes deployar con:
npx serve -s build
```

## 🚀 Deployment

### Vercel (Recomendado)
```bash
npm install -g vercel
vercel
```

### Netlify
```bash
npm run build
# Arrastra la carpeta ./build a Netlify
```

### Docker
```bash
# Usa el Dockerfile incluido en el README
docker build -t whatsapp-ghl-react .
docker run -p 80:80 whatsapp-ghl-react
```

## ✨ Características Principales

✅ **React 19.2.0** - Última versión estable
✅ **React Router v7** - Navegación moderna
✅ **Axios** - HTTP requests
✅ **Responsive Design** - Mobile & Desktop
✅ **Real-time Updates** - Polling automático
✅ **Error Handling** - Manejo robusto de errores
✅ **Loading States** - Feedback visual
✅ **Auto-refresh** - Datos siempre actualizados

## 📚 Documentación Completa

Lee el [README.md](README.md) para documentación completa.

## 💡 Tips

1. **Location ID**: Usa cualquier string único por cliente (ej: "EMPRESA_001")
2. **Múltiples Instancias**: Puedes tener ilimitadas instancias por cliente
3. **Nombres**: Los nombres personalizados ayudan a identificar cada línea
4. **Reconexión**: Si se desconecta, solo genera un nuevo QR
5. **Testing**: Usa TEST_CLIENT_001 para pruebas sin afectar datos reales

## 🎯 Próximos Pasos

1. ✅ Inicia el backend (puerto 3001)
2. ✅ Inicia el frontend (puerto 3000)
3. ✅ Accede a http://localhost:3000
4. ✅ Ingresa un Location ID
5. ✅ Genera tu primer QR code
6. ✅ Conecta WhatsApp
7. ✅ ¡Listo para usar!

---

**¿Necesitas ayuda?** Revisa los logs de la consola del navegador (F12) y del servidor backend.

**¡Disfruta tu nueva aplicación WhatsApp-GHL en React!** 🚀📱
